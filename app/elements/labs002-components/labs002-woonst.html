<!-- Copyright (c) 2015 The Locals Project Authors. All rights reserved.
See authors.md for a list of all members.
 -->

<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-input/paper-input-container.html">

<dom-module id="labs002-woonst">
  <style>
    :host {
      display: block;
      position: relative;

      padding: 0px;
      margin: 0px;

      width: 100%;
      height: 100%;

    }


    /* GENERAL STUFF */

    neon-animated-pages {
      height: 100%;
    }


    .fixit {
      position: absolute;
    }


    .canvas {
      width: 100%;
      height: 100%;
      @apply(--layout-horizontal);
      @apply(--layout-center-center);
    }


    .container {
      width: 100%;
      height: 100%;
      @apply(--layout-vertical);
      @apply(--layout-center-center);
    }




    /* ALL MATTERS EDIT VISUAL */

    .visualcontainer {
      width: 100vw;
      max-width: 600px;
      height: 100%;
      @apply(--layout-horizontal);
      @apply(--layout-center-center);
    }


    .visual {
      width: 60%;
      height: 100%;
      @apply(--layout-vertical);
      @apply(--layout-center-center);
    }

    .visual svg {
      width: 100%;
    }

    .visualbtns {
      width: 20%;
      height: 100%;
      @apply(--layout-vertical);
    }

    .leftbtns {
      @apply(--layout-horizontal);
      @apply(--layout-center);
      @apply(--layout-end-justified);
    }

    .rightbtns {
      @apply(--layout-horizontal);
      @apply(--layout-center);
      @apply(--layout-start-justified);
    }

    .selector button {
      outline: 0;
      border: none;
      background-color: rgba(0,0,0,0.05);

      width: 10vw;
      min-width: 35px;
      max-width: 60px;

      height: 10vw;
      min-height: 35px;
      max-height: 60px;

      border-radius: 50%;
      padding: 0px;
      margin: 0px;
    }


    .selector img {
      width: 100%;
    }



    /* ALL MATTERS EDIT VALUES */

    .valuescontainer {
      height: 100%;
      width: 100%;
      @apply(--layout-vertical);
      @apply(--layout-center-center);
    }




   


  </style>
  <template>


<!-- Hier begint ALLES -->
<!-- <h1>AVATAR</h1> -->
<neon-animated-pages id="pages" selected="{{selected}}" entry-animation="{{entryAnimation}}" exit-animation="{{exitAnimation}}">

<!-- sectie 0 //   HIER BEGINT DE PREVIEW-SECTIE -->
  <neon-animatable>
    <div class="canvas">
      <div class="container">

            <svg version="1.1" id="Laag_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
               viewBox="0 0 190 340" enable-background="new 0 0 190 340" xml:space="preserve">
            <g>
              <rect x="57.662" y="104.701" fill="#F5F5F5" width="90.437" height="143.766"/>
              <rect x="120.215" y="206.403" fill="#008AB1" width="18.164" height="42.062"/>
              <path fill="#78B47A" d="M53.666,248.467h3.996v-4.093c0,0-1.201-0.941-1.601-1.807c-0.134,1.807,0,2.951,0,2.951
                s0.029-0.117-0.639-0.783c-0.667-0.668-2.752-0.684-2.752-0.684s1.279,0.829,1.547,1.688
                C54.484,246.597,53.666,248.467,53.666,248.467z"/>
              <rect x="65.277" y="100.519" fill="#007596" width="82.82" height="4.513"/>
              <rect x="65.277" y="206.401" fill="#3FBDEE" width="27.164" height="14.529"/>
              <rect x="97.555" y="206.401" fill="#3FBDEE" width="13.001" height="14.529"/>
              <rect x="65.277" y="169.804" fill="#3FBDEE" width="27.164" height="14.528"/>
              <rect x="97.555" y="169.804" fill="#3FBDEE" width="13.001" height="14.528"/>
              <rect x="65.277" y="133.203" fill="#3FBDEE" width="27.164" height="14.533"/>
              <rect x="97.555" y="133.203" fill="#3FBDEE" width="13.001" height="14.533"/>
            </g>
            <polygon fill="#78B47A" points="55.166,248.467 54.817,248.467 51.045,248.467 54.171,246.924 "/>
            </svg>

      </div>
    </div>

  </neon-animatable>




<!-- sectie 1 //   HIER BEGINT DE VISUAL EDIT -->


  <neon-animatable>
    <div class="canvas">
      <div class="visualcontainer">

        <!-- VOLLEDIGE WOONST -->
        <div class="visualbtns leftbtns">
          <iron-selector id="editselected" selected="{{itemtocolor}}" attr-for-selected="name">

            <div id="selectsnit" class="selector"  name="snit">
              <button on-tap="_PrevSnit">
                <img src="../../images/arrow_left.svg">
              </button>
            </div>

          </iron-selector>
        </div>


        <div class="visual">
          <svg version="1.1" id="Laag_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
             viewBox="0 0 190 340" enable-background="new 0 0 190 340" xml:space="preserve">
          <g>
            <rect x="57.662" y="104.701" fill="#F5F5F5" width="90.437" height="143.766"/>
            <rect x="120.215" y="206.403" fill="#008AB1" width="18.164" height="42.062"/>
            <path fill="#78B47A" d="M53.666,248.467h3.996v-4.093c0,0-1.201-0.941-1.601-1.807c-0.134,1.807,0,2.951,0,2.951
              s0.029-0.117-0.639-0.783c-0.667-0.668-2.752-0.684-2.752-0.684s1.279,0.829,1.547,1.688
              C54.484,246.597,53.666,248.467,53.666,248.467z"/>
            <rect x="65.277" y="100.519" fill="#007596" width="82.82" height="4.513"/>
            <rect x="65.277" y="206.401" fill="#3FBDEE" width="27.164" height="14.529"/>
            <rect x="97.555" y="206.401" fill="#3FBDEE" width="13.001" height="14.529"/>
            <rect x="65.277" y="169.804" fill="#3FBDEE" width="27.164" height="14.528"/>
            <rect x="97.555" y="169.804" fill="#3FBDEE" width="13.001" height="14.528"/>
            <rect x="65.277" y="133.203" fill="#3FBDEE" width="27.164" height="14.533"/>
            <rect x="97.555" y="133.203" fill="#3FBDEE" width="13.001" height="14.533"/>
          </g>
          <polygon fill="#78B47A" points="55.166,248.467 54.817,248.467 51.045,248.467 54.171,246.924 "/>
          </svg>
        </div>


        <div class="visualbtns rightbtns">
          <iron-selector id="editselected" selected="{{itemtocolor}}" attr-for-selected="name">

            <div id="selectsnit" class="selector"  name="snit">
              <button on-tap="_PrevSnit">
                <img src="../../images/arrow_right.svg">
              </button>
            </div>

          </iron-selector>
        </div>

      </div>
    </div>  

  </neon-animatable>





  <!-- sectie 2 //   HIER BEGINT DE WAARDEN-SECTIE -->
  <neon-animatable>
    <div class="canvas">
      <div class="valuescontainer">

<!--         DO YOUT THING -->

        <template is="dom-if" if="{{!locked}}">
        
        <paper-input-container>
          <label>Straat</label>
          <input autofocus type="text" is="iron-input" bind-value="{{objectdata.straat}}">
        </paper-input-container>

        <paper-input-container>
          <label>Nummer</label>
          <input type="text" is="iron-input" bind-value="{{objectdata.nummer}}">
        </paper-input-container>

        <paper-input-container>
          <label>Postcode</label>
          <input type="text" is="iron-input" bind-value="{{objectdata.postcode}}" >
        </paper-input-container>

        <paper-input-container>
          <label>Plaats</label>
          <input type="text" is="iron-input" bind-value="{{objectdata.plaats}}" >
        </paper-input-container>

        </template>


        <template is="dom-if" if="{{locked}}">
          <p>{{straat}}</p>
          <p>{{nummer}}</p>
          <p>{{postcode}}</p>
          <p>{{plaats}}</p>

        <!-- HIEF DAN DIE BFFN FIE FAFIFEEFT --> 
          <button on-tap="unlock">unlock</button>
        </template>

      </div>
    </div>
  </neon-animatable>


</neon-animated-pages>

  </template>
  <script>
  (function() {
    Polymer({
      is: 'labs002-woonst',

      behaviors: [
      Polymer.NeonAnimatableBehavior
      ],

      properties: {
      objectconfig: {
          type: Object,
          observer: "_configChanged",
          notify: true
      },

      objectdata: {
          type: Object,
          observer: "_dataChanged",
          notify: true
        },


      editvalues: {
        type: Boolean,
        value: false
      },

      avatarbtnsvisible: {
        type: Boolean,
        value: false
      },

      opened: {
        type: Boolean,
        value: false,
        observer: "editListener"
      }

      },


      ready: function(){
        this.selected = 0;

        console.log('avatar is ready');
        this.editmode = false;
        //console.log('avatar conf: ', this.config.beard[0]);
      },


      created: function() {
        console.log(this.localName + '#' + this.id + ' was created');
      },

      attached: function() {
        this.async(function() {
        console.log(this.localName + '#' + this.id + ' was attached');
        //this.selected = 1;
        this._configChanged();
        this._dataChanged();
      });

        this.entryAnimation = 'slide-from-right-animation';
        this.exitAnimation = 'slide-left-animation';
      },


      detached: function() {
        this.async(function() {
          console.log(this.localName + '#' + this.id + ' was detached');
       });
      },

      attributeChanged: function(name, type) {
        console.log(this.localName + '#' + this.id + ' attribute ' + name +
          ' was changed to ' + this.getAttribute(name));
      },

      _showData: function(){
        this.editvalues =! this.editvalues;
        console.log('SHOW DATA TOGGLED', this.editvalues);
      },

      unlock: function(){
        this.locked = false;
      },


      _test: function(e){
        console.log('hallo ',e);
        this.config = e;
      },

      _configChanged: function(){
        console.log('avatar conf changed: ', JSON.stringify(this.objectconfig));
        this.straat = this.objectconfig.straat;
        this.nummer = this.objectconfig.nummer;
        this.postcode = this.objectconfig.postcode;
        this.plaats = this.objectconfig.plaats;   
      },

      _dataChanged: function(){
        console.log('Avatar data changed: ', this.objectdata);
        this.straat = this.objectdata.straat;
        this.nummer = this.objectdata.nummer;
        this.postcode = this.objectdata.postcode;
        this.plaats = this.objectdata.plaats;
        this.locked = this.objectdata.locked;
      },

      toVisual: function(){
        this.selected = 1;
        this.editmode = !this.editmode;
      },



      editListener: function(){
          console.log("Opened !!!!");
          if(this.opened){
          this.selected = 1;
          } else {
            this.selected = 0;

          }; 
      },

      _showVisual: function(){
          this.fire('background-activ');
          this.ToggleVisual();
      }


      





    });
  })();
  </script>
</dom-module>










