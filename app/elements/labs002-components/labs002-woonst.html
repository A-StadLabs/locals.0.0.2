<!-- Copyright (c) 2015 The Locals Project Authors. All rights reserved.
See authors.md for a list of all members.
 -->

<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-input/paper-input-container.html">

<dom-module id="labs002-woonst">
  <style>
    :host {
      display: block;
      position: relative;

      padding: 0px;
      margin: 0px;

      width: 100%;
      height: 100%;
    }


    neon-animated-pages {
      height: 100%;
    }

    .canvas {
      height: 100%;
      width: 100%;
    }

    .container {
      height: 100%;

/*      margin-top: 25%;*/
    }

    .valuescontainer {
      height: 100%;
      width: 100%;
      background-color: white;
/*      box-shadow: 0px 1px 2px rgba(0,0,0,0.1);*/
    }

    .fixit {
      position: absolute;
    }



    /* ALL MATTERS avatarvisual */

    .visualbtns {
      height: 360px;
      margin: 0px;
      padding: 0px;
/*      border: 1px solid black;*/
/*      background-color: rgba(0,0,0,0.1);      */
 
    }

   


  </style>
  <template>


<!-- Hier begint ALLES -->
<!-- <h1>AVATAR</h1> -->
<neon-animated-pages id="pages" selected="{{selected}}" entry-animation="{{entryAnimation}}" exit-animation="{{exitAnimation}}">

<!-- sectie 0 //   HIER BEGINT DE  FIXEDPEUP(NIET-EDIT)-SECTIE -->
  <neon-animatable>
    <div class="canvas">
      <div class="layout horizontal center-center container">
        
        <svg version="1.1" id="Laag_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
           width="190px" height="340px" viewBox="0 0 190 340" enable-background="new 0 0 190 340" xml:space="preserve">
        <g>
          <rect x="51.871" y="167.744" fill="#F5F5F5" width="90.437" height="143.767"/>
          <rect x="114.425" y="269.447" fill="#008AB1" width="18.164" height="42.063"/>
          <path fill="#78B47A" d="M47.875,311.511h3.996v-4.093c0,0-1.201-0.941-1.601-1.806c-0.134,1.806,0,2.95,0,2.95
            s0.029-0.116-0.639-0.783c-0.667-0.668-2.752-0.684-2.752-0.684s1.279,0.83,1.547,1.688
            C48.693,309.64,47.875,311.511,47.875,311.511z"/>
          <rect x="59.486" y="163.562" fill="#007596" width="82.821" height="4.513"/>
          <rect x="59.486" y="269.445" fill="#3FBDEE" width="27.164" height="14.529"/>
          <rect x="91.764" y="269.445" fill="#3FBDEE" width="13.001" height="14.529"/>
          <rect x="59.486" y="232.848" fill="#3FBDEE" width="27.164" height="14.528"/>
          <rect x="91.764" y="232.848" fill="#3FBDEE" width="13.001" height="14.528"/>
          <rect x="59.486" y="196.246" fill="#3FBDEE" width="27.164" height="14.533"/>
          <rect x="91.764" y="196.246" fill="#3FBDEE" width="13.001" height="14.533"/>
        </g>
        <polygon fill="#78B47A" points="49.375,311.511 49.026,311.511 45.254,311.511 48.38,309.968 "/>
        </svg>
      </div>

    </div>

  </neon-animatable>





<!-- sectie 1 //   HIER BEGINT DE VISUAL EDIT -->


  <neon-animatable>
    <div class="canvas">
      <div class="container layout vertical center-center">

        <!-- VOLLEDIGE PEUP -->
        WOONST edit

      </div>
    </div>  

  </neon-animatable>





  <!-- sectie 2 //   HIER BEGINT DE WAARDEN-SECTIE -->
  <neon-animatable>
    <div class="canvas">
      <div class="layout vertical center-center valuescontainer">

<!--         DO YOUT THING -->

        <template is="dom-if" if="{{!locked}}">
        
        <paper-input-container>
          <label>Straat</label>
          <input autofocus type="text" is="iron-input" bind-value="{{objectdata.straat}}">
        </paper-input-container>

        <paper-input-container>
          <label>Nummer</label>
          <input type="text" is="iron-input" bind-value="{{objectdata.nummer}}">
        </paper-input-container>

        <paper-input-container>
          <label>Postcode</label>
          <input type="text" is="iron-input" bind-value="{{objectdata.postcode}}" >
        </paper-input-container>

        <paper-input-container>
          <label>Plaats</label>
          <input type="text" is="iron-input" bind-value="{{objectdata.plaats}}" >
        </paper-input-container>

        </template>


        <template is="dom-if" if="{{locked}}">
          <p>{{straat}}</p>
          <p>{{nummer}}</p>
          <p>{{postcode}}</p>
          <p>{{plaats}}</p>

        <!-- HIEF DAN DIE BFFN FIE FAFIFEEFT --> 
          <button on-tap="unlock">unlock</button>
        </template>

      </div>
    </div>
  </neon-animatable>


</neon-animated-pages>

  </template>
  <script>
  (function() {
    Polymer({
      is: 'labs002-woonst',

      behaviors: [
      Polymer.NeonAnimatableBehavior
      ],

      properties: {
      objectconfig: {
          type: Object,
          observer: "_configChanged",
          notify: true
      },

      objectdata: {
          type: Object,
          observer: "_dataChanged",
          notify: true
        },


      editvalues: {
        type: Boolean,
        value: false
      },

      avatarbtnsvisible: {
        type: Boolean,
        value: false
      },

      opened: {
        type: Boolean,
        value: false,
        observer: "editListener"
      }

      },


      ready: function(){
        this.selected = 0;

        console.log('avatar is ready');
        this.editmode = false;
        //console.log('avatar conf: ', this.config.beard[0]);
      },


      created: function() {
    console.log(this.localName + '#' + this.id + ' was created');
  },

  attached: function() {
    this.async(function() {
      console.log(this.localName + '#' + this.id + ' was attached');
      //this.selected = 1;
      this._configChanged();
      this._dataChanged();
   });

        this.entryAnimation = 'slide-from-right-animation';
        this.exitAnimation = 'slide-left-animation';


  },

  detached: function() {
    this.async(function() {
      console.log(this.localName + '#' + this.id + ' was detached');
   });
  },

  attributeChanged: function(name, type) {
    console.log(this.localName + '#' + this.id + ' attribute ' + name +
      ' was changed to ' + this.getAttribute(name));
  },

      _showData: function(){
        this.editvalues =! this.editvalues;
        console.log('SHOW DATA TOGGLED', this.editvalues);
      },

      unlock: function(){
        this.locked = false;
      },


      _test: function(e){
        console.log('hallo ',e);
        this.config = e;
      },

      _configChanged: function(){
        console.log('avatar conf changed: ', JSON.stringify(this.objectconfig));
        this.straat = this.objectconfig.straat;
        this.nummer = this.objectconfig.nummer;
        this.postcode = this.objectconfig.postcode;
        this.plaats = this.objectconfig.plaats;   
      },

      _dataChanged: function(){
        console.log('Avatar data changed: ', this.objectdata);
        this.straat = this.objectdata.straat;
        this.nummer = this.objectdata.nummer;
        this.postcode = this.objectdata.postcode;
        this.plaats = this.objectdata.plaats;
        this.locked = this.objectdata.locked;
      },

      toVisual: function(){
        this.selected = 1;
        this.editmode = !this.editmode;
      },

      toggleAvatarbtns: function(){

        console.log("Visible of the avatarbtns?", this.avatarbtnsvisible);
        this.avatarbtnsvisible =! this.avatarbtnsvisible;

          if (this.avatarbtnsvisible) {
            this.customStyle['--zoom-items-visible'] = 'visible';
          } else {
            this.customStyle['--zoom-items-visible'] = 'hidden';
          };
            this.updateStyles(); 
      },

      editListener: function(){
          console.log("Opened !!!!");
          if(this.opened){
          this.selected = 1;
          } else {
            this.selected = 0;

          }; 
      },

      _showVisual: function(){
          this.fire('background-activ');
          this.ToggleVisual();
      }


      





    });
  })();
  </script>
</dom-module>










